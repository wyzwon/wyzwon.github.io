<!DOCTYPE html>
<html lang="en">

	<head>
	<title>TJB website</title>
		<link rel="stylesheet" type="text/css" href="../../330/assets/styleSheets/style.css">
		
		<link rel="apple-touch-icon-precomposed" sizes="217x217" href="../../330/assets/SourceImages/logo217square.png" />
		<link rel="icon" type="image/png" href="../../330/assets/SourceImages/logo217square.png" sizes="217x217" />
		<link rel="icon" type="image/png" href="../../330/assets/SourceImages/logo217square.png" sizes="217x217" />
		<link rel="shortcut icon" type="image/png" href="../../330/assets/SourceImages/logo217square.png"/>
		
		<script src="https://d3js.org/d3.v4.min.js"></script>
		
		<style>
			div.tooltip{	
				position: absolute;			
				text-align: center;			
				width: 85px;					
				height: 14px;					
				padding: 3px;				
				font: 12px helvetica, sans-serif;		
				background: lightsteelblue;	
				border: 0px;		
				border-radius: 8px;			
				pointer-events: none;		
				overflow: auto;			
			}
		</style>
	</head>
	
	<body>
		<div id="container">
			<div id="header" class="general">
				<div id="logo">
					<a href="../../330/students.html"><img src="../../330/assets/SourceImages/logo.png" alt="My logo aka A Picture of my First and last Initials Blended together" title="Click to return to Home Page" width="150" height="163"></a>
				</div>
				
				<h1>Data Visualization Project 1</h1>
				
					
				
				
				<!--<h1>The Portfolio of Thomas Bouffard</h1>-->
				<div class="general" id="bio">
					<p>A visualization of net use versus share of government seats held by women over time.</p>
				</div>
			</div>
		</div>
		
		<div class="general">
			<div id="graph">
			</div>
			
			<input id="yearSlider" type="range" min="2000" max="2015" step="1" style="width:500"/>
			<textarea id="YearValueText" rows="1" cols="10">Year: 2008</textarea>
		</div>
		
		<div class="general" style="text-align: left;">
			<p>
				Write up:<br>
				For this project, I used the following dtat sets:<br>
				1: Share of seats in parliament (% held by women)<br>
				2: Internet users (% of population)<br>
				Provided by the United Ntions Development Programs human Development Reports.
				The data in both sets had gaps of years tracked both individually and as a set.
				So I used linear interpolation to fill in gaps to aquire a smooth data set from the years 2000 to 2015.
				I also removed countries and years that had no overlap in the other set. Some countries data had gaps
				from recording late or stopping early. I elected to leave these gaos because i could not interpolate them,
				 and made the data points not show up in the years their data is absent.<br><br>
				 
				From this data, I was interested on getting a view of the relationship between the technological and communications
				abilities of a nation, and the position of women in said nation using their pressence in office as an indicator.
				For this purpose, I chose to represent the data as a scatter plot between the two. Since humans are good at comparing lengths,
				I represented their relative development over time as movement between their positions year to year. This set up is also ideal 
				for making use of gestalt priniples in spotting trends that exist in the data.<br><br>
				
				I found that the tendency is for seat occupation to correlate well with net use, though no causation can be shown, it is
				interesting that the bottom right corrner (high net use and low occupation) stays empty until about 2010 When Qatar starts tracking data.
				the occupation scale is only about half that of net use which may seem to skew the apparent trend, but it's important to remember that
				while we expect net use to cap at 100%, seat occupation for 50% of the population should also be expected to tend to cap at 50%.
			</p>
		</div>
		
		
	</body>
	
	
	<script>
		
		var w = (window.innerWidth / 5) * 3; // Set graph width
		var h = w; // set graph height (keeping the graoh square)
							
		var svg = d3.select("#graph").append("svg")
		.attr("width", w)
		.attr("height", h);		
		
		var div = d3.select("body").append("div")	
			.attr("class", "tooltip")				
			.style("opacity", 0);
		
		// Draw graph background
		svg.append("rect")
			.style("fill", "#aaaaee")
			.attr("height", h)
			.attr("width", w)
			.attr("x", 0)
			.attr("y", 0);

		
		// Import the data from the CSV file
		d3.csv("source/data.csv", function(m_data)
		{
			m_data.forEach(function(d)
			{
				d.seatArray = [];
				d.internetArray = [];
				
				
				

				// Convert government ratio data to an array
				if(d.Seats2000){d.seatArray.push(+d.Seats2000);}else{d.seatArray.push(null);}
				if(d.Seats2001){d.seatArray.push(+d.Seats2001);}else{d.seatArray.push(null);}
				if(d.Seats2002){d.seatArray.push(+d.Seats2002);}else{d.seatArray.push(null);}
				if(d.Seats2003){d.seatArray.push(+d.Seats2003);}else{d.seatArray.push(null);}
				if(d.Seats2004){d.seatArray.push(+d.Seats2004);}else{d.seatArray.push(null);}
				if(d.Seats2005){d.seatArray.push(+d.Seats2005);}else{d.seatArray.push(null);}
				if(d.Seats2006){d.seatArray.push(+d.Seats2006);}else{d.seatArray.push(null);}
				if(d.Seats2007){d.seatArray.push(+d.Seats2007);}else{d.seatArray.push(null);}
				if(d.Seats2008){d.seatArray.push(+d.Seats2008);}else{d.seatArray.push(null);}
				if(d.Seats2009){d.seatArray.push(+d.Seats2009);}else{d.seatArray.push(null);}
				if(d.Seats2010){d.seatArray.push(+d.Seats2010);}else{d.seatArray.push(null);}
				if(d.Seats2011){d.seatArray.push(+d.Seats2011);}else{d.seatArray.push(null);}
				if(d.Seats2012){d.seatArray.push(+d.Seats2012);}else{d.seatArray.push(null);}
				if(d.Seats2013){d.seatArray.push(+d.Seats2013);}else{d.seatArray.push(null);}
				if(d.Seats2014){d.seatArray.push(+d.Seats2014);}else{d.seatArray.push(null);}
				if(d.Seats2015){d.seatArray.push(+d.Seats2015);}else{d.seatArray.push(null);}
				
				// Convert Net use data to an array
				if(d.Internet2000){d.internetArray.push(+d.Internet2000);}else{d.internetArray.push(null);}
				if(d.Internet2001){d.internetArray.push(+d.Internet2001);}else{d.internetArray.push(null);}
				if(d.Internet2002){d.internetArray.push(+d.Internet2002);}else{d.internetArray.push(null);}
				if(d.Internet2003){d.internetArray.push(+d.Internet2003);}else{d.internetArray.push(null);}
				if(d.Internet2004){d.internetArray.push(+d.Internet2004);}else{d.internetArray.push(null);}
				if(d.Internet2005){d.internetArray.push(+d.Internet2005);}else{d.internetArray.push(null);}
				if(d.Internet2006){d.internetArray.push(+d.Internet2006);}else{d.internetArray.push(null);}
				if(d.Internet2007){d.internetArray.push(+d.Internet2007);}else{d.internetArray.push(null);}
				if(d.Internet2008){d.internetArray.push(+d.Internet2008);}else{d.internetArray.push(null);}
				if(d.Internet2009){d.internetArray.push(+d.Internet2009);}else{d.internetArray.push(null);}
				if(d.Internet2010){d.internetArray.push(+d.Internet2010);}else{d.internetArray.push(null);}
				if(d.Internet2011){d.internetArray.push(+d.Internet2011);}else{d.internetArray.push(null);}
				if(d.Internet2012){d.internetArray.push(+d.Internet2012);}else{d.internetArray.push(null);}
				if(d.Internet2013){d.internetArray.push(+d.Internet2013);}else{d.internetArray.push(null);}
				if(d.Internet2014){d.internetArray.push(+d.Internet2014);}else{d.internetArray.push(null);}
				if(d.Internet2015){d.internetArray.push(+d.Internet2015);}else{d.internetArray.push(null);}
				
				//console.log(d.seatArray);
				//console.log(d.internetArray);
			});
			
			d3.select("#yearSlider")
				.on("input",function(){
				
					var animationDuration = 1500;
					var selectedYear = document.getElementById("yearSlider").value - 2000;
					document.getElementById("YearValueText").value = "Year: " + (selectedYear + 2000);
		
					// Move the data points
					svg.selectAll("circle")
						.data(m_data)
						.transition()
						.duration(animationDuration)
						//.style("fill", "yellow")
						.attr("cx", function(d)
						{
							if(d.internetArray[selectedYear])
							{
								return xScale(d.internetArray[selectedYear]);
							}
							else
							{
								return 0;
							}
						})
						.attr("cy", function(d)
						{
							if(d.seatArray[selectedYear])
							{
								return yScale(d.seatArray[selectedYear]);
							}
							else
							{
								return 0;
							}
						})
						.attr("r", function(d)
						{
							return (h / 80);
						})
						.attr("display", function(d)
						{
							if(d.seatArray[selectedYear] && d.internetArray[selectedYear])
							{
								return "visible";
							}
							else
							{
								return "none";
							}
						});

					
						
			});
			
			var maxNet = d3.max(m_data, function(d) { return d3.max(d.internetArray, Number); } );
			var maxSeats = d3.max(m_data, function(d) { return d3.max(d.seatArray, Number); } );
			var minNet = d3.min(m_data, function(d) { return d3.min(d.internetArray, Number); } );
			var minSeats = d3.min(m_data, function(d) { return d3.min(d.seatArray, Number); } );
			var rangeNet = (maxNet - minNet);
			var rangeSeats = (maxSeats - minSeats);
			var rangePadNet = (rangeNet * 0.02);
			var rangePadSeats = (rangeSeats * 0.02);
			
			var padding = (h / 15); // Set container padding to a given percentage of total size
			
			// Eduation on x axis scale
			var xScale = d3.scaleLinear()
				.domain([(minNet - rangePadNet), (maxNet + rangePadNet)]) // data min max
				.range([padding, w - padding]); // view port min max
			
			// Obesity on y axis scale
			var yScale = d3.scaleLinear()
				.domain([(minSeats - rangePadSeats), (maxSeats + rangePadSeats)]) // data min max
				.range([h - padding, padding]); // view port min max
				
			var xAxis = d3.axisBottom(xScale);
			var yAxis = d3.axisLeft(yScale);
			
			var xBandScale = d3.scaleBand()
				.domain(d3.range(m_data.length))
				.rangeRound([0, w])
				.paddingInner(0.05);
			
			svg.selectAll("circle")
					.data(m_data)
					.enter()
					.append("circle")
					.style("fill", "yellow")
					.attr("cx", function(d)
					{
						if(d.internetArray[8])
							{
								//console.log(d.internetArray);
								return xScale(d.internetArray[8]);
							}
							else
							{
								//console.log(d.internetArray);
								return 0;
							}
					})
					.attr("cy", function(d)
					{
						if(d.seatArray[8])
							{
								return yScale(d.seatArray[8]);
							}
							else
							{
								return 0;
							}
					})
					.attr("r", function(d)
					{
						return (h / 80);
					})
					.attr("display", function(d)
					{
						if(d.seatArray[8] && d.internetArray[8])
						{
							return "visible";
						}
						else
						{
							return "none";
						}
					})
					.on("mouseover", function(d) {		
						div.transition()		
							.duration(100)		
							.style("opacity", 1);		
						div	.html(d.Country)	
							.style("left", (d3.event.pageX) + "px")		
							.style("top", (d3.event.pageY - 10) + "px");	
						})					
					.on("mouseout", function(d) {		
						div.transition()		
							.duration(200)		
							.style("opacity", 0);	
					});

					
			
			   
			// Generate X visual scale
			svg.append("g")
				.attr("class", "axis")
				.attr("id", "xAxis")
				.attr("transform", "translate(0," + (h - padding) + ")")
				.call(xAxis);
				
			// Generate Y visual scale
			svg.append("g")
				.attr("class", "axis")
				.attr("id", "yAxis")
				.attr("transform", "translate(" + padding + ",0)")
				.call(yAxis);
				
			// Place x Axis label
			svg.append("text")
				.attr("class", "axisLabel")
				.attr("id", "xLabel")
				.attr("text-anchor", "middle")
				.attr("x", (w / 2))
				.attr("y", w)
				.attr("font-size", (w / 32))
				.attr("fill", "#000000")
				.text("Internet users (% of population)");
				
			// Place y Axis label
			svg.append("text")
				.attr("class", "axisLabel")
				.attr("id", "yLabel")
				.attr("text-anchor", "middle")
				.attr("x", (h / 2))
				.attr("y", 0)
				.attr("font-size", (h / 32))
				.attr("transform", "rotate(-270)")
				.attr("fill", "#000000")
				.text("Share of seats in parliament (% held by women)");
	
		});
		
		var color_cycle = function(){
		
		}
	</script>
</html>























